<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: head('Редактировать товар')"></head>
<body>
<header th:replace="fragments/header :: header"></header>

<div class="container">
    <div style="max-width: 800px; margin: 0 auto;">
        <h1 style="margin: 2rem 0 1rem;">Редактировать товар</h1>
        
        <form th:action="@{/admin/products/edit/{id}(id=${product.id})}" method="post" 
              style="background: white; padding: 2rem; border-radius: 0.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
            
            <div class="form-group">
                <label class="form-label">Название товара *</label>
                <input type="text" name="name" th:value="${product.name}" 
                       class="form-input" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">Описание</label>
                <textarea name="description" class="form-input" rows="3" 
                          th:text="${product.description}"></textarea>
            </div>
            
            <div class="form-group">
                <label class="form-label">Цена (руб.) *</label>
                <input type="number" name="price" th:value="${product.price}" 
                       class="form-input" step="0.01" min="0" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">Количество на складе *</label>
                <input type="number" name="quantity" th:value="${product.quantity}" 
                       class="form-input" min="0" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">URL изображения</label>
                <input type="text" name="imageUrl" th:value="${product.imageUrl}" 
                       class="form-input" placeholder="https://example.com/image.jpg">
            </div>
            
            <div class="form-group">
                <label class="form-label">Категория</label>
                <select name="category.id" class="form-input">
                    <option value="">-- Без категории --</option>
                    <option th:each="category : ${categories}" 
                            th:value="${category.id}"
                            th:text="${category.name}"
                            th:selected="${product.category != null && product.category.id == category.id}">
                    </option>
                </select>
            </div>
            
            <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                <a th:href="@{/admin/products}" class="btn">Отмена</a>
                <button type="submit" class="btn btn-primary">Сохранить изменения</button>
            </div>
        </form>
    </div>
</div>

<footer th:replace="fragments/footer :: footer"></footer>
</body>
</html>